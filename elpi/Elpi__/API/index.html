<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>API (elpi.Elpi__.API)</title><link rel="stylesheet" href="../../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 1.5.3"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> â€“ <a href="../../index.html">elpi</a> &#x00BB; <a href="../index.html">Elpi__</a> &#x00BB; API</nav><h1>Module <code>Elpi__.API</code></h1></header><aside><p>This module is the API for clients of the Elpi library.</p></aside><aside><p>These APIs are sufficient to parse programs and queries from text, run the interpreter and finally print the result</p></aside><div class="spec module" id="module-Ast"><a href="#module-Ast" class="anchor"></a><code><span class="keyword">module</span> <a href="Ast/index.html">Ast</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div><div class="spec module" id="module-Setup"><a href="#module-Setup" class="anchor"></a><code><span class="keyword">module</span> <a href="Setup/index.html">Setup</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div><div class="spec module" id="module-Parse"><a href="#module-Parse" class="anchor"></a><code><span class="keyword">module</span> <a href="Parse/index.html">Parse</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div><div class="spec module" id="module-Data"><a href="#module-Data" class="anchor"></a><code><span class="keyword">module</span> <a href="Data/index.html">Data</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div><div class="spec module" id="module-Compile"><a href="#module-Compile" class="anchor"></a><code><span class="keyword">module</span> <a href="Compile/index.html">Compile</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div><div class="spec module" id="module-Execute"><a href="#module-Execute" class="anchor"></a><code><span class="keyword">module</span> <a href="Execute/index.html">Execute</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div><div class="spec module" id="module-Pp"><a href="#module-Pp" class="anchor"></a><code><span class="keyword">module</span> <a href="Pp/index.html">Pp</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div><aside><p>This API lets one exchange with the host application opaque (primitive) data such as integers or strings as well as algebraic data such OCaml's ADT. No support for binders or unification variables at this point, see the RawData module.</p></aside><dl><dt class="spec module" id="module-Conversion"><a href="#module-Conversion" class="anchor"></a><code><span class="keyword">module</span> <a href="Conversion/index.html">Conversion</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p>This module defines what embedding and readback functions are</p></dd></dl><dl><dt class="spec module" id="module-ContextualConversion"><a href="#module-ContextualConversion" class="anchor"></a><code><span class="keyword">module</span> <a href="ContextualConversion/index.html">ContextualConversion</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p>This module defines what embedding and readback functions are for datatypes that need the context of the program (hypothetical clauses and constraints)</p></dd></dl><dl><dt class="spec module" id="module-BuiltInData"><a href="#module-BuiltInData" class="anchor"></a><code><span class="keyword">module</span> <a href="BuiltInData/index.html">BuiltInData</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p>Conversion for Elpi's built-in data types</p></dd></dl><dl><dt class="spec module" id="module-OpaqueData"><a href="#module-OpaqueData" class="anchor"></a><code><span class="keyword">module</span> <a href="OpaqueData/index.html">OpaqueData</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p>Declare data from the host application that is opaque (no syntax), like int but not like list or pair</p></dd></dl><dl><dt class="spec module" id="module-AlgebraicData"><a href="#module-AlgebraicData" class="anchor"></a><code><span class="keyword">module</span> <a href="AlgebraicData/index.html">AlgebraicData</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p>Declare data from the host application that has syntax, like list or pair but not like int. So far there is no support for data with binder using this API. The type of each constructor is described using a GADT so that the code to build or match the data can be given the right type. Example: define the ADT for &quot;option a&quot;</p></dd></dl><div class="spec module" id="module-BuiltInPredicate"><a href="#module-BuiltInPredicate" class="anchor"></a><code><span class="keyword">module</span> <a href="BuiltInPredicate/index.html">BuiltInPredicate</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div><dl><dt class="spec module" id="module-BuiltIn"><a href="#module-BuiltIn" class="anchor"></a><code><span class="keyword">module</span> <a href="BuiltIn/index.html">BuiltIn</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p>Setup.init takes a list of declarations of data types and predicates, plus some doc and eventually some Elpi code. All this constitutes the &quot;prelude&quot;, that is what is avaiable to an Elpi program</p></dd></dl><dl><dt class="spec module" id="module-Query"><a href="#module-Query" class="anchor"></a><code><span class="keyword">module</span> <a href="Query/index.html">Query</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p>Commodity module to build a simple query and extract the output from the solution found by Elpi.</p></dd></dl><aside><p>This API lets one access the low lever representation of terms in order to exchange data with binders and unification variables with the host application. It also lets one define quotations and extend the state theraded by Elpi with custom data.</p></aside><dl><dt class="spec module" id="module-State"><a href="#module-State" class="anchor"></a><code><span class="keyword">module</span> <a href="State/index.html">State</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p>State is a collection of purely functional piece of data carried by the interpreter. Such data is kept in sync with the backtracking, i.e. changes made in a branch are lost if that branch fails. It can be used to both store custom constraints to be manipulated by custom solvers, or any other piece of data the host application may need to use.</p></dd></dl><dl><dt class="spec module" id="module-FlexibleData"><a href="#module-FlexibleData" class="anchor"></a><code><span class="keyword">module</span> <a href="FlexibleData/index.html">FlexibleData</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p>Flexible data is for unification variables. One can use Elpi's unification variables to represent the host equivalent, here the API the keep a link between the two.</p></dd></dl><dl><dt class="spec module" id="module-RawOpaqueData"><a href="#module-RawOpaqueData" class="anchor"></a><code><span class="keyword">module</span> <a href="RawOpaqueData/index.html">RawOpaqueData</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p>Low level module for OpaqueData</p></dd></dl><dl><dt class="spec module" id="module-RawData"><a href="#module-RawData" class="anchor"></a><code><span class="keyword">module</span> <a href="RawData/index.html">RawData</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p>This module exposes the low level representation of terms. * * The data type <code>term</code> is opaque and can only be accessed by using the * <code>look</code> API that exposes a term <code>view</code>. The <code>look</code> view automatically * substitutes assigned unification variables by their value.</p></dd></dl><dl><dt class="spec module" id="module-RawQuery"><a href="#module-RawQuery" class="anchor"></a><code><span class="keyword">module</span> <a href="RawQuery/index.html">RawQuery</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p>This module lets one generate a query by providing a RawData.term directly</p></dd></dl><div class="spec module" id="module-Quotation"><a href="#module-Quotation" class="anchor"></a><code><span class="keyword">module</span> <a href="Quotation/index.html">Quotation</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div><div class="spec module" id="module-Utils"><a href="#module-Utils" class="anchor"></a><code><span class="keyword">module</span> <a href="Utils/index.html">Utils</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div><div class="spec module" id="module-RawPp"><a href="#module-RawPp" class="anchor"></a><code><span class="keyword">module</span> <a href="RawPp/index.html">RawPp</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div></div></body></html>